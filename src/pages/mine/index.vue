
<template>
  <view class="h-full overflow-auto px-4">
    <!-- ç”¨æˆ·ä¿¡æ¯åŒºåŸŸ -->
    <view class="flex justify-between items-center py-6">
      <view class="flex items-center gap-3">
        <uv-avatar
          src="/static/logo.png"
          bg-color="#f0f0f0"
          size="48"
          font-size="16"
        />
        <view class="flex flex-col">
          <text v-if="userInfo.nickname" class="text-lg font-medium">{{
            userInfo.nickname
          }}</text>
          <view v-else @click="toLogin" class="flex flex-col">
            <text class="text-primary text-base">ç‚¹å‡»ç™»å½•</text>
            <text class="text-gray-500 text-sm">ç™»å½•åäº«å—æ›´å¤šåŠŸèƒ½</text>
          </view>
        </view>
      </view>
      <navigator open-type="navigate" url="/pages/mine/settings/index">
        <uni-icons type="gear" size="24" color="#666" />
      </navigator>
    </view>

    <!-- åŠŸèƒ½èœå• -->
    <view class="bg-white rounded-lg overflow-hidden mb-6">
      <view
        v-for="(menu, index) in menuList"
        :key="index"
        class="flex items-center justify-between p-4 border-b border-gray-100 last:border-b-0"
        @click="handleMenuClick(menu)"
      >
        <view class="flex items-center gap-3">
          <view class="text-xl">{{ menu.icon }}</view>
          <text>{{ menu.title }}</text>
        </view>
        <uni-icons type="arrowright" size="16" color="#ccc" />
      </view>
    </view>

    <view class="bg-white rounded-lg p-4">
      <view class="text-center">
        <view class="text-lg font-medium mb-2">UniApp å¼€å‘æ¨¡æ¿</view>
        <view class="text-sm text-gray-600 mb-4">Version {{ version }}</view>
        <view class="text-xs text-gray-500 leading-relaxed">
          è¿™æ˜¯ä¸€ä¸ªåŸºäº Vue3 + TypeScript + TailwindCSS çš„ UniApp å¼€å‘æ¨¡æ¿ï¼Œ
          é›†æˆäº†å¸¸ç”¨çš„å¼€å‘å·¥å…·å’Œç»„ä»¶åº“ï¼Œå¸®åŠ©æ‚¨å¿«é€Ÿå¼€å§‹é¡¹ç›®å¼€å‘ã€‚
        </view>
      </view>
    </view>
  </view>
</template>

<script lang="ts" setup>
import { ref } from "vue";

/**
 * æˆ‘çš„é¡µé¢ç»„ä»¶
 * @description ç”¨æˆ·ä¸­å¿ƒé¡µé¢
 */

// ç”¨æˆ·ä¿¡æ¯
const userInfo = ref({
  nickname: "", // å¯ä»¥ä»æœ¬åœ°å­˜å‚¨æˆ–æ¥å£è·å–
});

// ç‰ˆæœ¬ä¿¡æ¯
const version = "1.0.0";

// èœå•åˆ—è¡¨
const menuList = [
  {
    icon: "ğŸ‘¤",
    title: "ä¸ªäººèµ„æ–™",
    action: "profile",
  },
  {
    icon: "ğŸ›¡ï¸",
    title: "éšç§è®¾ç½®",
    action: "privacy",
  },
  {
    icon: "ğŸ“",
    title: "æ„è§åé¦ˆ",
    action: "feedback",
  },
  {
    icon: "â„¹ï¸",
    title: "å…³äºæˆ‘ä»¬",
    action: "about",
  },
];

/**
 * è·³è½¬åˆ°ç™»å½•é¡µ
 */
const toLogin = () => {
  uni.navigateTo({
    url: "/pages/login/index",
  });
};

/**
 * å¤„ç†èœå•ç‚¹å‡»
 * @param menu èœå•é¡¹
 */
const handleMenuClick = (menu: any) => {
  switch (menu.action) {
    case "profile":
      uni.showToast({
        title: "ä¸ªäººèµ„æ–™åŠŸèƒ½å¾…å¼€å‘",
        icon: "none",
      });
      break;
    case "privacy":
      uni.showToast({
        title: "éšç§è®¾ç½®åŠŸèƒ½å¾…å¼€å‘",
        icon: "none",
      });
      break;
    case "feedback":
      uni.showToast({
        title: "æ„è§åé¦ˆåŠŸèƒ½å¾…å¼€å‘",
        icon: "none",
      });
      break;
    case "about":
      uni.showToast({
        title: "å…³äºæˆ‘ä»¬åŠŸèƒ½å¾…å¼€å‘",
        icon: "none",
      });
      break;
    default:
      uni.showToast({
        title: "åŠŸèƒ½å¼€å‘ä¸­",
        icon: "none",
      });
  }
};
</script>

<style scoped lang="scss">
</style>
